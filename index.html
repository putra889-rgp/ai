<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tracker Link Edukasi</title>
<style>
body { font-family: Arial; background:#f0f2f5; margin:0; padding:20px; }
h1,h2 { text-align:center; }
input, button { width:100%; padding:10px; margin:5px 0; border-radius:5px; border:1px solid #ccc; }
button { background:#007bff; color:white; border:none; cursor:pointer; }
button:hover { background:#0056b3; }
pre { background:#eee; padding:10px; border-radius:5px; overflow-x:auto; max-height:400px; }
.card { background:white; padding:15px; margin:10px auto; border-radius:10px; box-shadow:0 3px 8px rgba(0,0,0,0.2); max-width:500px; }
</style>
</head>
<body>

<h1>Dashboard Tracker Link Edukasi</h1>

<div class="card">
<h2>Buat Link Jebakan</h2>
<input type="text" id="customLink" placeholder="Masukkan custom link (contoh: https://example.com)">
<button onclick="createTrapLink()">Buat Link Tracker</button>
<pre id="generatedLink"></pre>
<h3>Data Visitor (Simulasi)</h3>
<pre id="visitorData"></pre>
</div>

<div class="card">
<h2>Simulasi Target Mengunjungi Link</h2>
<input type="text" id="visitLink" placeholder="Tempel link tracker di sini">
<button onclick="visitTrapLink()">Kunjungi Link</button>
</div>

<script>
// Simulasi database dashboard
let trackerDB = {};

// Buat link jebakan
function createTrapLink(){
    const link = document.getElementById('customLink').value.trim();
    if(!link) return alert("Isi custom link!");
    const trackID = "track_" + Math.floor(Math.random()*1000000);
    const trackedLink = `${link}?id=${trackID}`;
    trackerDB[trackID] = []; // siap menyimpan data visitor
    document.getElementById('generatedLink').textContent = `Link tracker (simulasi): ${trackedLink}\nBerikan link ini ke target untuk belajar.`;
}

// Simulasi target mengunjungi link
async function visitTrapLink(){
    const link = document.getElementById('visitLink').value.trim();
    if(!link) return alert("Masukkan link tracker!");
    const url = new URL(link);
    const trackID = url.searchParams.get("id");
    if(!trackID || !trackerDB[trackID]) return alert("Link tracker tidak valid!");

    // Ambil info device legal
    const deviceInfo = {
        userAgent: navigator.userAgent,
        platform: navigator.platform,
        language: navigator.language,
        screen: `${screen.width}x${screen.height}`,
        ram: navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Tidak tersedia",
        cores: navigator.hardwareConcurrency ? navigator.hardwareConcurrency : "Tidak tersedia",
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
    };

    // Info baterai
    if(navigator.getBattery){
        try{
            const battery = await navigator.getBattery();
            deviceInfo.battery = `${Math.round(battery.level*100)}%, ${battery.charging?"sedang di cas":"tidak di cas"}`;
        } catch(e){ deviceInfo.battery = "Tidak tersedia"; }
    } else deviceInfo.battery = "Tidak tersedia";

    // Track IP legal via API publik
    fetch('https://ipapi.co/json/')
      .then(res => res.json())
      .then(ipData => {
          deviceInfo.ip = ipData.ip;
          deviceInfo.kota = ipData.city;
          deviceInfo.provinsi = ipData.region;
          deviceInfo.negara = ipData.country_name;
          trackerDB[trackID].push(deviceInfo);
          document.getElementById('visitorData').textContent = JSON.stringify(trackerDB, null, 2);
          alert("Data visitor masuk ke dashboard (simulasi).");
      }).catch(err=>{
          trackerDB[trackID].push(deviceInfo);
          document.getElementById('visitorData').textContent = JSON.stringify(trackerDB, null, 2);
          alert("Data visitor masuk (tanpa IP).");
      });
}
</script>

</body>
</html>
